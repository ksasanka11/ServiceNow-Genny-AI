<?xml version="1.0" encoding="UTF-8"?><record_update table="sp_widget">
    <sp_widget action="INSERT_OR_UPDATE">
        <category>custom</category>
        <client_script><![CDATA[function($scope, $http, $sce) {
  var c = this;
  
  c.markCompleted = function(resource) {
    c.server.get({
      resource: {
        sys_id: resource.sys_id,
        completed: resource.completed
      }
    });
  };
  
  $scope.trustAsHtml = function(string) {
    return $sce.trustAsHtml(string);
  };
}]]></client_script>
        <controller_as>c</controller_as>
        <css>.resource {
  background: #f4f4f4;
  padding: 15px;
  margin-bottom: 20px;
  border-radius: 5px;
}

.genny-employee-container{
  background-color: #302F4B;
}

.header{
  display: flex;
  flex-direction:row;
  padding-left: 2vw;
  justify-content: center;
  align-items: center; 
}
.title {
	font-size: 2em;
  font-weight: 600;
}

.header-text{
  color: white;
}

.body-container {
	background:white;
  border-radius: 2px;
  margin-left: 1vw;
  margin-right: 1vw;
  min-height: 200vh;
  padding: 1vw;
}

h2 {
  text-align: center;
  color: #4CAF50;
}

h3 {
  color: #333;
}

.carousel-caption {
  background-color: rgba(0,0,0,0.6);
  position: absolute;
  right: 15%;
  bottom: 20px;
  left: 15%;
  padding: 10px;
  text-align: center;
  text-shadow: none;
  transform: translateX(-50%);
}

.genny-employee-container{
  background-color: #302F4B;
}

.header{
  display: flex;
  flex-direction:row;
  padding-left: 2vw;
  justify-content: center;
  align-items: center; 
}

.card-subtitle {
  color:black;
  font-size: 1.2em;
  font-weight: 600;
}

.right-side{
  display: flex;
  flex-direction:column;
}

.title {
	font-size: 2em;
  font-weight: 600;

}

.header-text{
  color: white;
  
}

.header-img{
  display: block;
  margin-left: auto; 
  margin-right: 0;
}

.body-container {
	background:white;
  border-radius: 2px;
  margin-left: 1vw;
  margin-right: 1vw;
  min-height: 200vh;
  padding: 1vw;
}

.upper-container {
  display:flex;
  flex-direction: row;
}

.summary {
  width:50vw;
  min-height:100vh;
}

.contacts {
  width: 30vw;
  height:20vh;
}

.onboarding {
  width: 30vw;
  height:20vh;
}

.card {
  background-color: white;
  margin: 1vw;
  padding: 2vw;
  border-radius: 2px;
  box-shadow: 0px 0px 4px rgba(0, 0, 0, 0.2);
}

.card-title {
  color: black;
  font-size: 1.2em;
  font-weight: 600;
  line-height: 1em;
  padding-bottom: 1em;
	word-wrap:break-word
}

.summary-each {
	background-color: #D1D2EE;
  padding: 1vw;
  margin-bottom: 2vw;
  border-radius: 4px;
}

.lower-container {
}

.article-container{
	display: flex;
  flex-direction:row;
  flex-wrap: wrap;

}

.article-section-title{
  margin: 1vw;
	font-size: 1.5em;
  color: black;
    font-weight: 600;

}

.article-card {
	width: 22%;
}
</css>
        <data_table>sp_instance</data_table>
        <demo_data/>
        <description/>
        <docs/>
        <field_list/>
        <has_preview>true</has_preview>
        <id>genny_newhire</id>
        <internal>false</internal>
        <link><![CDATA[function link(scope, element, attrs, controller) {  }]]></link>
        <name>genny_newhire</name>
        <option_schema/>
        <public>false</public>
        <roles/>
        <script><![CDATA[(function() {
	data.userName = gs.getUserDisplayName();
	
  if (input && input.resource) {
    var grResource = new GlideRecord('x_842166_genny_ai_learning_lake');
    if (grResource.get(input.resource.sys_id)) {
      grResource.completed = input.resource.completed;
      grResource.update();
    }
  } else {
    var userSysId = gs.getUserID();

    var grOnboarding = new GlideRecord('x_842166_genny_ai_onboarding_request');
    grOnboarding.addQuery('new_hire', userSysId);
    
		
		grOnboarding.query();

    if (grOnboarding.next()) {
      // data.resources = [];
      data.knowledgeResources = [];
      data.externalLinkResources = [];
			data.manager = grOnboarding.getDisplayValue('manager');
			data.buddy = grOnboarding.getDisplayValue('buddy');

      var grLearningLake = new GlideRecord('x_842166_genny_ai_learning_lake');
      grLearningLake.addQuery('onboarding_request', grOnboarding.sys_id);
      grLearningLake.query();

      while (grLearningLake.next()) {
        var resourceObj = {
          sys_id: grLearningLake.sys_id + '',
          resourceName: grLearningLake.name + '',
          resourceDescription: grLearningLake.description + '',
          resourceLink: grLearningLake.external_link + '',
          resourceType: grLearningLake.type + '',
          resourceKB: grLearningLake.knowledge_base.content + '',
          completed: grLearningLake.completed == '1',
					summary: grLearningLake.summary + '',
					function: grLearningLake.getValue('function'),
        };
        
        // data.resources.push(resourceObj);
        
        if(resourceObj.resourceType == 'knowledge_base') {
          data.knowledgeResources.push(resourceObj);
        }
        else if(resourceObj.resourceType == 'external_link') {
          data.externalLinkResources.push(resourceObj);
        }
      }
    }
  }
})();
]]></script>
        <servicenow>false</servicenow>
        <sys_class_name>sp_widget</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2023-06-28 20:26:54</sys_created_on>
        <sys_id>7914f05847bb61102e9ce332736d430d</sys_id>
        <sys_mod_count>201</sys_mod_count>
        <sys_name>genny_newhire</sys_name>
        <sys_package display_value="Genny AI" source="x_842166_genny_ai">09ec005c47f761102e9ce332736d434c</sys_package>
        <sys_policy/>
        <sys_scope display_value="Genny AI">09ec005c47f761102e9ce332736d434c</sys_scope>
        <sys_update_name>sp_widget_7914f05847bb61102e9ce332736d430d</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2023-06-29 21:45:18</sys_updated_on>
        <template><![CDATA[<div class="genny-employee-container">


  <div class="header">
    <div class="header-text">
      <div class="title" >Welcome to Servicenow, {{c.data.userName}}!</div>
      <div>This is your home base for a seamless onboarding experience. Ask Genny any questions you have.</div>
    </div>
    <img class="header-img" src="aes_resources_documentation.svg"/>
  </div>

  <div class="body-container">

    <div class="upper-container">
      <div class="card summary">
        <div class="card-title">
          Hereâ€™s a summary of what you need to know
          <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M7.18766 1.66984C7.89127 1.56933 8.44411 1.01649 8.54462 0.312884C8.56823 0.147658 8.80678 0.147658 8.83038 0.312884C8.9309 1.01649 9.48373 1.56933 10.1873 1.66984C10.3526 1.69344 10.3526 1.932 10.1873 1.9556C9.48373 2.05612 8.9309 2.60895 8.83038 3.31256C8.80678 3.47778 8.56823 3.47778 8.54462 3.31256C8.44411 2.60895 7.89127 2.05612 7.18767 1.9556C7.02244 1.932 7.02244 1.69344 7.18766 1.66984Z" fill="#151920"/>
            <path d="M2.3136 10.6875C4.68438 10.2924 6.54218 8.4346 6.93731 6.06382L7.12925 4.91219C7.18728 4.56403 7.68772 4.56403 7.74575 4.91219L7.93769 6.06382C8.33282 8.4346 10.1906 10.2924 12.5614 10.6875L13.713 10.8795C14.0612 10.9375 14.0612 11.4379 13.713 11.496L12.5614 11.6879C10.1906 12.083 8.33282 13.9408 7.93769 16.3116L7.74575 17.4633C7.68772 17.8114 7.18728 17.8114 7.12925 17.4633L6.93731 16.3116C6.54218 13.9408 4.68438 12.083 2.3136 11.6879L1.16197 11.496C0.813807 11.4379 0.813806 10.9375 1.16197 10.8795L2.3136 10.6875Z" fill="#151920"/>
            <path d="M13.3538 2.23105C13.1143 3.42853 12.1783 4.36456 10.9808 4.60406L10.4463 4.71096C10.1984 4.76053 10.1984 5.11491 10.4463 5.16448L10.9808 5.27139C12.1783 5.51088 13.1143 6.44691 13.3538 7.64439L13.4607 8.17892C13.5103 8.42679 13.8647 8.42679 13.9143 8.17892L14.0212 7.64439C14.2607 6.44691 15.1967 5.51088 16.3942 5.27139L16.9287 5.16448C17.1766 5.11491 17.1766 4.76053 16.9287 4.71096L16.3942 4.60405C15.1967 4.36456 14.2607 3.42853 14.0212 2.23105L13.9143 1.69652C13.8647 1.44865 13.5103 1.44865 13.4607 1.69652L13.3538 2.23105Z" fill="#151920"/>
          </svg>
        </div>

        <div class="summary-each" ng-repeat="resource in data.knowledgeResources">
          <div class="card-subtitle">{{resource.resourceName}}</div>
          <div ng-bind-html="resource.summary"></div>
        </div>
        
      </div>
      <div>

        <div class="right-side">
        <div class="card contacts">
          <div class="card-title">
            Your contacts
          </div>
          <div>
            Manager: {{c.data.manager}}<br>
            Buddy: {{c.data.buddy}}
          </div>
        </div>

      </div>

      <div class="card onboarding">
        <div class="card-title">
          What you need access to
        </div>
        <div ng-repeat="resource in data.externalLinkResources" ng-if="resource.function =='software_access' " >
          <a href={{resource.resourceLink}}>{{resource.resourceName}}</a> <br>
        </div>
      </div>
    </div>
        </div>

    <div class="lower-container">
      <div class="article-section-title">Helpful Links</div>
      <div class="article-container">

			<div class="card article-card" ng-repeat="resource in c.data.externalLinkResources" ng-if="resource.function =='education'">
          <a href={{resource.resourceLink}}>
          <div class="card-title">{{resource.resourceName}} <svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 640 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z"/></svg> </div>
          <div>{{resource.resourceDescription}}</div>
          </a>
        </div>

      </div>

    </div>
  </div>
</div>

<!-- <pre>{{data|json}}</pre> -->




<!-- Carousel for Knowledge Base Articles -->
<!--<uib-carousel active="0" interval="5000" no-wrap="false" ng-if="data.knowledgeResources.length">
    <uib-slide class="card article-card" ng-repeat="resource in data.knowledgeResources" index="$index">
      <div class="card-title">{{resource.resourceName}}</div>
      <div>{{resource.resourceDescription}}</div>
      <div ng-bind-html="resource.resourceKB | limitTo:200"></div>
      <button ng-click="resource.expand = !resource.expand">{{resource.expand ? 'Read Less' : 'Read More'}}</button>
      <div ng-if="resource.expand" ng-bind-html="resource.resourceKB"></div>
      <br><br>
      <input type="checkbox" ng-model="resource.completed" ng-change="c.markCompleted(resource)">
      <label>Read</label>
    </uib-slide>
  </uib-carousel>-->

<!-- Carousel for External Links -->
<!--<uib-carousel active="0" interval="5000" no-wrap="false" ng-if="data.externalLinkResources.length">
    <uib-slide class="card article-card" ng-repeat="resource in data.externalLinkResources" index="$index">
      <div class="card-title">{{resource.resourceName}}</div>
      <div>{{resource.resourceDescription}}</div>
      <a ng-href="{{resource.resourceLink}}">Go to resource</a>
      <br><br>
      <input type="checkbox" ng-model="resource.completed" ng-change="c.markCompleted(resource)">
      <label>Mark as completed</label>
    </uib-slide>
  </uib-carousel>-->

]]></template>
    </sp_widget>
</record_update>
